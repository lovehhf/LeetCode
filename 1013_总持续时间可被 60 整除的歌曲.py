# -*- coding:utf-8 -*-

__author__ = 'huanghf'

"""
在歌曲列表中，第 i 首歌曲的持续时间为 time[i] 秒。
返回其总持续时间（以秒为单位）可被 60 整除的歌曲对的数量。形式上，我们希望索引的数字  i < j 且有 (time[i] + time[j]) % 60 == 0。
示例 1：

输入：[30,20,150,100,40]
输出：3
解释：这三对的总持续时间可被 60 整数：
(time[0] = 30, time[2] = 150): 总持续时间 180
(time[1] = 20, time[3] = 100): 总持续时间 120
(time[1] = 20, time[4] = 40): 总持续时间 60
示例 2：

输入：[60,60,60]
输出：3
解释：所有三对的总持续时间都是 120，可以被 60 整数。
"""


def numPairsDivisibleBy60(time):
    """
    60个桶 表示除60的余数
    最后一个存放结果
    t遍历数组 t+(60-t) = 60
    res 加 60-t 的个数
    :param time:
    :return:
    """
    mod = [0] * 61
    for t in time:
        mod[-1] += mod[(60 - t % 60) % 60]
        mod[t % 60] += 1
    print(mod)
    return mod[-1]


def numPairsDivisibleBy602(time):
    import collections
    cnt, res = collections.Counter(), 0
    for t in time:
        res += cnt[60 - t % 60] if t % 60 else cnt[0]
        cnt[t % 60] += 1
    return res

def numPairsDivisibleBy60_3(time):
    """
    超出时间限制
    :type time: List[int]
    :rtype: int
    """

    count = 0
    n = len(time)
    if n==0 or n==1:
        return 0
    for i in range(n-1):
        for j in range(i+1,n):
            if (time[i]+time[j])%60 == 0:
                # print(v1,v2)
                count += 1
    return count

a = [57,291,404,280,282,170,81,32,181,241,121,278,125,450,246,159,56,413,239,112,33,485,302,349,201,333,146,421,459,225,43,332,164,334,68,92,371,21,472,448,78,105,16,172,91,488,415,63,220,226,114,280,408,231,349,13,367,43,324,87,222,173,278,308,429,369,42,120,299,257,429,153,61,25,58,130,295,311,430,368,18,47,136,180,425,164,413,486,92,258,169,57,487,161,101,17,276,9,95,172,429,8,77,26,311,289,190,125,2,453,499,297,142,325,203,272,64,317,448,307,359,60,164,272,347,194,465,238,441,164,25,17,41,468,111,263,319,266,272,179,327,260,146,262,345,167,121,269,353,123,13,80,376,439,245,275,161,131,175,231,41,188,478,10,359,376,99,268,441,143,164,250,254,475,292,255,477,389,281,406,144,93,300,462,387,230,45,406,113,164,420,361,395,396,409,35,60,204,493,274,293,292,191,193,27,130,448,185,20,359,35,419,58,36,26,328,320,238,323,169,427,18,187,391,379,209,194,76,235,341,294,380,116,406,108,325,122,278,126,347,350,354,431,61,406,450,90,30,340,209,403,161,404,31,457,53,217,406,390,98,460,369,333,374,493,172,231,204,116,230,451,285,41,272,170,326,48,477,420,328,330,113,477,108,91,341,316,247,46,110,108,95,135,230,446,96,312,294,428,448,396,150,117,155,95,480,319,408,117,192,284,458,150,397,109,64,36,203,186,170,152,120,436,209,453,264,141,143,129,100,176,285,14,338,26,302,67,203,78,103,300,256,182,29,1,162,300,33,251,386,186,93,253,197,142,140,229,497,135,490,325,146,354,485,158,271,234,461,345,34,44,97,413,479,231,272,158,98,17,497,388,500,421,428,41,363,263,278,311,43,15,117,295,369,306,90,121,143,439,316,49,226,488,92,40,323,358,331,321,431,97,154,272,39,157,23,254,389,258,497,431,341,277,264,323,228,413,22,234,244,339,260,152,426,478,191,461,307,487,491,146,52,150,335,278,34,244,458,286,179,143,452,202,423,5,304,182,483,13,184,5,266,281,459,109,199,146,478,5,72,235,55,270,58,214,432,483,422,441,290,240,121,182,264,411,53,468,147,30,467,172,465,339,11,317,283,344,115,144,193,167,248,485,239,187,415,392,38,281,210,340,250,349,148,200,115,346,188,5,348,121,223,109,431,34,65,51,331,346,448,101,213,335,229,325,359,43,61,160,448,498,241,62,487,215,419,100,67,267,291,456,496,130,479,497,317,484,367,444,220,81,273,288,449,378,90,347,415,318,211,175,430,181,326,174,207,48,126,414,227,267,262,485,49,78,351,218,155,144,485,347,429,31,270,281,333,175,84,463,12,498,190,20,356,494,110,76,332,167,438,206,191,485,246,53,165,147,375,454,309,191,476,132,437,80,236,353,394,370,433,154,353,229,436,419,314,346,359,372,21,281,237,181,144,225,150,71,103,143,364,461,360,268,339,76,367,114,110,323,86,199,95,431,274,306,343,104,281,80,16,87,310,256,149,86,217,239,46,15,100,165,177,229,111,175,246,145,120,295,400,167,35,446,21,199,200,469,214,164,232,328,97,68,288,266,426,77,154,276,242,34,454,218,355,380,386,52,377,49,386,78,318,453,85,356,255,28,321,387,274,309,379,370,410,399,174,226,350,26,391,395,66,342,351,209,384,401,497,355,53,416,56,111,477,21,226,24,154,328,87,267,473,421,183,367,136,332,224,492,47,290,357,100,379,273,302,237,226,196,245,185,272,356,126,202,440,364,448,214,37,62,74,377,29,360,199,178,126,444,110,493,264,264,235,3,280,286,216,345,424,445,213,233,180,91,100,456,487,361,362,371,336,234,392,261,289,40,191,183,280,133,353,176,441,448,125,273,397,366,187,38,498,145,29,363,57,304,163,196,158,384,16,214,15,473,215,164,454,231,163,322,122,485,103,121,166,186,71,181,155,247,233,70,257,143,329,107,21,379,262,186,6,134,478,139,367,9,38,292,134,332,92,39,429,388,310,108,172,211,498,103,364,315,397,372,451,235,26,82,354,176,209,55,93,361,393,322,183,320,437,327,339,443,48,227,172,96,294,186,354,478,217,275,178,45,64,436,106,461,455,143,95,332,53,390,257,35,420,35,299,118,429,109,128,425,321,321,451,387,165,282,144,75,160,70,257,342,88,198,238,90,464,162,464,158,372,199,282,356,143,459,375,269,428,88,18,457,239,494,123,144,393,272,83,266,463,443,207,172,111,99,161,365,157,420,134,214,84,378,358,474,327,445,88,443,456,122,147,103,248,336,190,388,129,72,249,52,463,390,226,141,396,402,397,2,403,415,236,93,52,219,195,295,30,465,285,275,397,182,393,71,230,449,310,29,406,279,376,124,18,367,229,8,68,179,457,378,489,249,286,53,305,91,124,390,282,488,218,457,145,468,71,70,380,500,342,281,418,144,323,286,155,327,100,114,472,434,81,371,267,370,344,24,373,233,286,295,123,425,107,338,38,461,282,318,54,273,447,243,347,323,359,310,327,461,367,213,121,92,210,439,309,176,374,385,130,85,331,59,491,364,253,381,423,448,164,85,109,449,55,331,308,232,63,433,23,85,19,387,498,376,82,449,384,341,353,281,292,412,285,288,248,45,315,134,88,177,495,147,484,351,184,374,269,216,86,406,188,235,131,23,476,294,427,354,203,372,384,275,145,408,459,340,57,316,57,381,250,172,138,426,211,319,193,51,447,158,163,461,161,224,331,218,337,190,77,184,202,261,484,343,443,359,465,347,362,178,131,38,199,297,110,464,22,441,103,122,357,458,451,438,463,47,464,234,75,241,226,405,302,400,415,321,429,77,396,431,71,250,250,382,285,197,142,180,5,166,177,491,275,412,196,270,68,128,421,213,473,50,480,100,77,406,3,485,27,336,187,46,433,476,241,228,448,191,157,466,201,97,162,91,433,77,405,215,38,439,162,230,112,449,302,242,93,74,175,136,289,58,418,335,351,81,404,40,70,96,206,379,5,130,497,153,424,479,70,44,180,121,375,46,142,286,244,190,245,412,291,441,488,98,301,250,309,128,71,487,45,38,222,102,445,125,215,457,350,469,395,370,199,365,232,475,9,486,375,400,198,296,24,352,75,72,113,355,132,433,203,264,404,279,343,471,26,175,258,291,405,272,45,491,193,343,142,151,72,348,225,212,402,155,181,106,138,180,21,163,175,340,170,271,455,22,39,14,79,230,213,492,241,337,359,425,284,179,340,474,328,188,76,274,395,304,286,305,113,107,1,413,25,293,103,192,195,275,209,320,224,240,268,474,356,205,449,223,471,198,190,58,143,359,444,487,72,91,379,243,209,300,473,165,449,21,487,423,138,91,38,379,433,177,39,268,32,175,296,418,186,55,109,89,431,255,31,10,462,113,64,159,393,287,286,412,24,271,392,397,390,28,52,182,411,383,407,223,304,428,186,251,394,266,115,293,3,414,371,419,47,188,222,178,353,229,390,349,436,495,416,85,379,212,225,278,388,100,239,24,272,150,29,479,306,39,366,57,360,219,403,250,69,474,92,175,330,400,423,80,20,226,329,407,435,495,352,364,474,303,379,496,373,179,1,477,54,387,86,426,284,295,387,48,235,475,115,290,54,246,265,293,20,19,411,464,352,351,162,189,361,384,423,190,142,130,472,150,426,405,445,274,301,208,4,152,118,205,9,311,475,151,398,420,29,242,132,259,293,466,385,40,87,364,208,455,119,432,260,404,383,5,317,492,402,356,361,282,45,438,152,210,284,257,140,394,201,399,314,156,22,315,379,105,398,402,201,157,184,227,116,29,184,479,53,464,64,142,26,358,183,141,223,344,430,326,110,122,26,418,4,11,464,402,15,217,465,142,118,10,242,117,168,112,101,180,157,42,341,327,231,181,219,374,262,216,388,353,241,308,403,320,155,329,181,256,86,439,304,48,323,121,211,393,392,146,134,223,181,31,323,330,40,50,490,325,18,150,141,402,303,93,341,396,369,456,491,324,250,391,428,237,249,391,318,4,133,401,84,184,438,30,417,102,362,49,278,299,174,143,336,498,134,296,227,290,120,310,281,150,366,477,244,120,343,18,268,472,458,391,350,431,99,291,76,286,48,471,262,263,362,81,294,47,209,397,225,347,307,307,348,110,26,58,212,405,109,240,82,343,167,223,432,1,380,294,234,139,406,250,498,57,14,46,397,499,376,404,27,478,491,321,315,493,382,21,212,104,16,276,101,360,433,254,58,21,494,336,469,307,285,384,234,357,154,189,168,301,240,193,393,339,14,290,142,449,271,206,76,494,82,122,324,487,474,118,89,219,8,76,252,457,208,184,279,76,55,251,347,410,8,49,364,482,90,129,393,216,204,37,281,9,349,471,4,49,16,485,443,467,242,74,48,85,367,427,16,121,428,431,2,481,104,327,251,175,210,446,356,446,377,110,442,411,428,310,335,69,130,34,42,426,200,86,495,339,458,288,33,220,298,216,486,362,128,239,334,151,459,262,216,157,458,322,27,320,284,35,155,51,129,30,394,151,414,457,359,460,345,250,122,402,75,33,374,297,85,206,6,349,203,331,300,495,288,344,425,134,55,490,471,111,272,455,141,6,193,450,207,223,169,140,432,449,145,415,58,106,441,342,369,177,16,211,104,291,330,433,23,115,275,188,111,398,202,499,477,279,492,173,452,500,229,147,110,383,187,300,263,418,379,405,5,100,5,390,53,441,428,375,113,22,284,356,52,227,18,257,65,471,467,226,384,295,125,361,300,316,265,463,279,76,52,407,261,61,366,434,62,90,334,212,283,179,36,90,357,206,325,78,434,77,431,342,249,21,330,157,182,470,140,432,236,276,305,6,338,328,304,297,275,489,357,231,342,375,205,306,138,19,185,492,274,369,362,204,18,197,195,391,169,395,351,407,257,307,35,268,91,57,98,426,152,42,64,92,200,353,342,125,183,435,45,213,131,187,90,392,32,315,200,235,116,186,162,109,315,287,361,20,172,384,248,217,369,265,319,424,267,57,399,41,73,25,61,360,500,92,91,26,113,207,69,410,171,319,261,425,332,410,408,482,341,134,70,143,155,346,194,374,311,499,372,388,66,201,125,38,41,275,271,91,375,326,78,463,110,486,416,155,150,432,58,35,70,178,157,7,37,206,42,50,454,112,346,246,44,423,346,29,315,92,240,490,269,467,148,406,374,464,184,500,41,407,261,101,152,196,152,377,31,8,118,440,94,215,312,257,147,152,419,3,293,119,169,335,148,214,386,367,150,124,228,490,479,317,368,194,298,453,191,421,158,333,34,480,90,96,154,119,417,2,336,247,403,321,454,498,70,24,312,111,314,150,97,331,310,473,235,234,72,52,234,479,129,123,346,347,214,15,400,495,376,316,226,161,385,277,168,228,293,355,467,469,190,286,45,499,5,343,231,15,487,225,330,220,368,108,251,456,243,53,379,442,39,71,219,194,116,479,189,188,452,101,390,57,479,109,390,60,232,199,35,231,389,44,130,215,27,315,284,404,20,160,30,286,22,412,117,409,211,439,443,390,72,317,485,12,436,146,295,28,183,346,59,361,388,301,298,324,130,208,313,65,257,150,61,77,266,52,312,218,78,94,245,478,243,436,120,108,397,261,272,418,107,15,271,217,415,213,46,316,2,356,458,101,478,203,160,242,486,166,118,381,269,383,148,41,59,188,72,467,175,127,286,82,79,242,496,239,199,279,19,378,106,361,60,175,163,425,408,389,194,183,349,95,229,126,251,438,387,91,67,120,84,90,16,256,263,148,101,144,139,235,372,130,30,158,438,487,9,446,280,347,54,265,72,471,421,107,86,133,472,156,155,96,322,192,342,321,339,232,414,307,143,454,201,376,111,48,184,114,255,309,468,115,347,110,455,497,301,435,9,195,276,460,32,189,88,457,336,332,248,397,75,124,335,463,394,341,236,188,398,163,197,474,385,477,404,489,450,113,249,169,24,2,425,29,436,397,407,271,394,161,53,134,313,376,335,382,380,495,117,31,373,74,240,330,97,457,245,391,114,488,398,417,152,440,42,185,53,484,89,424,269,89,202,20,254,18,300,387,146,160,166,28,172,83,471,300,138,152,86,310,358,305,146,143,432,288,20,76,454,244,404,47,468,78,68,45,12,486,293,110,232,20,407]
print(numPairsDivisibleBy60_2(a))